<!DOCTYPE html>
<html>

<head>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.8.9/brython.min.js"
    integrity="sha256-U56d9Sn/Gtf1meSBXazW81LM1bUeyc1jFuoY3CBu6A8="
    crossorigin="anonymous">
  </script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.8.9/brython_stdlib.min.js"
    integrity="sha256-twMHOlRBOpBkpyGFeXIBWoJqTpqf76Zp8HExOelwyRc="
    crossorigin="anonymous"
    defer>
  </script>
  <style>
    table { border-collapse: collapse; }
    table, th, td { border: 1px solid grey; }
  </style>
</head>

<body onload="brython()">

<script type="text/python">
from browser import document, prompt, html
import base64

b64_map = {}

def base64_compute(evt):
    default = "Real Python"
    data = prompt("Enter a string:", default)
    data = data or default
    b64data = base64.b64encode(data.encode()).decode()
    b64_map[data] = b64data
    display_map()

def display_map():
    table = html.TABLE(style={'border': '1 solid grey'})
    table <= html.TR(html.TH("Text") + html.TH("Base64"))
    table <= (html.TR(html.TD(key) + html.TD(b64_map[key])) for key in b64_map)
    document["base64-res"].clear()
    document["base64-res"] <= table

document["base64-btn"].bind("click", base64_compute)
</script>

<button id="base64-btn">Base64</button>
<p/>
<div id="base64-res"></div>

</body>
</html>
